<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - EventHub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #d63031;
            --dark: #2d3436;
            --light: #f8f9fa;
            --white: #ffffff;
            --sidebar-width: 260px;
        }

        body {
            background: var(--light);
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: var(--sidebar-width);
            height: 100vh;
            background: var(--dark);
            padding: 20px;
            overflow-y: auto;
        }

        .sidebar-logo {
            color: var(--white);
            font-size: 24px;
            font-weight: 700;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        .sidebar-logo span {
            color: var(--secondary);
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .sidebar-menu a:hover,
        .sidebar-menu a.active {
            background: var(--primary);
            color: var(--white);
        }

        .sidebar-menu .icon {
            font-size: 20px;
        }

        .menu-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.4);
            text-transform: uppercase;
            padding: 15px 15px 10px;
            letter-spacing: 1px;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            padding: 20px 30px;
        }

        /* Top Bar */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: var(--white);
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .page-title h1 {
            font-size: 24px;
            color: var(--dark);
        }

        .page-title p {
            color: #666;
            font-size: 14px;
        }

        .top-bar-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .notification-btn {
            position: relative;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: var(--white);
            font-size: 10px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 600;
        }

        .user-info {
            line-height: 1.3;
        }

        .user-name {
            font-weight: 600;
            color: var(--dark);
        }

        .user-role {
            font-size: 12px;
            color: #666;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--white);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .stat-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .stat-icon.purple {
            background: rgba(108, 92, 231, 0.1);
        }

        .stat-icon.green {
            background: rgba(0, 184, 148, 0.1);
        }

        .stat-icon.orange {
            background: rgba(253, 203, 110, 0.1);
        }

        .stat-icon.red {
            background: rgba(214, 48, 49, 0.1);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--dark);
        }

        .stat-label {
            color: #666;
            font-size: 14px;
        }

        .stat-change {
            font-size: 12px;
            padding: 3px 8px;
            border-radius: 20px;
        }

        .stat-change.positive {
            background: rgba(0, 184, 148, 0.1);
            color: var(--success);
        }

        .stat-change.negative {
            background: rgba(214, 48, 49, 0.1);
            color: var(--danger);
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }

        .card {
            background: var(--white);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 18px;
            color: var(--dark);
            font-weight: 600;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--white);
        }

        .btn-primary:hover {
            background: #5b4cdb;
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 13px;
        }

        .btn-success {
            background: var(--success);
            color: var(--white);
        }

        .btn-danger {
            background: var(--danger);
            color: var(--white);
        }

        .btn-warning {
            background: var(--warning);
            color: var(--dark);
        }

        /* Events Table */
        .events-table {
            width: 100%;
            border-collapse: collapse;
        }

        .events-table th,
        .events-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .events-table th {
            color: #666;
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
        }

        .event-name {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .event-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-approved {
            background: rgba(0, 184, 148, 0.1);
            color: var(--success);
        }

        .status-pending {
            background: rgba(253, 203, 110, 0.3);
            color: #b8860b;
        }

        .status-rejected {
            background: rgba(214, 48, 49, 0.1);
            color: var(--danger);
        }

        .action-btns {
            display: flex;
            gap: 8px;
        }

        /* Participants List */
        .participant-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }

        .participant-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .participant-avatar {
            width: 40px;
            height: 40px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: 600;
        }

        .participant-name {
            font-weight: 500;
            color: var(--dark);
        }

        .participant-event {
            font-size: 12px;
            color: #666;
        }

        /* AI Chatbot Section */
        .ai-section {
            margin-top: 20px;
        }

        .ai-tools-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .ai-tool-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 20px;
            border-radius: 12px;
            color: var(--white);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .ai-tool-card:hover {
            transform: translateY(-5px);
        }

        .ai-tool-icon {
            font-size: 30px;
            margin-bottom: 10px;
        }

        .ai-tool-card h4 {
            margin-bottom: 5px;
        }

        .ai-tool-card p {
            font-size: 13px;
            opacity: 0.9;
        }

        /* Chatbot Widget */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chatbot-toggle {
            width: 60px;
            height: 60px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(108, 92, 231, 0.4);
            font-size: 28px;
            transition: transform 0.3s;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
        }

        .chatbot-window {
            display: none;
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 380px;
            height: 500px;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            flex-direction: column;
        }

        .chatbot-window.active {
            display: flex;
        }

        .chatbot-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 20px;
            color: var(--white);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header h3 {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: var(--white);
            font-size: 24px;
            cursor: pointer;
        }

        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 15px;
            line-height: 1.4;
        }

        .message.bot .message-content {
            background: var(--light);
            color: var(--dark);
            border-bottom-left-radius: 5px;
        }

        .message.user .message-content {
            background: var(--primary);
            color: var(--white);
            border-bottom-right-radius: 5px;
        }

        .chatbot-input {
            padding: 15px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }

        .chatbot-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 25px;
            outline: none;
        }

        .chatbot-input input:focus {
            border-color: var(--primary);
        }

        .chatbot-input button {
            width: 45px;
            height: 45px;
            background: var(--primary);
            border: none;
            border-radius: 50%;
            color: var(--white);
            cursor: pointer;
            font-size: 18px;
        }

        .quick-actions {
            padding: 10px 15px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            border-top: 1px solid #eee;
        }

        .quick-action-btn {
            padding: 6px 12px;
            background: var(--light);
            border: 1px solid #ddd;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-action-btn:hover {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            padding: 20px 25px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            color: var(--dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        .modal-body {
            padding: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .ai-generate-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--white);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }

        .ai-generate-btn:hover {
            opacity: 0.9;
        }

        .generated-content {
            background: var(--light);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid var(--primary);
        }

        .modal-footer {
            padding: 15px 25px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .main-content {
                margin-left: 0;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }

        /* Logout Button */
        .logout-btn {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            padding: 12px;
            background: rgba(214, 48, 49, 0.1);
            color: var(--danger);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 500;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: var(--danger);
            color: var(--white);
        }

        /* Loading Overlay */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .loading-overlay.active {
            display: flex;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--light);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p style="margin-top: 15px; color: var(--dark);">Loading...</p>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-logo">Event<span>Hub</span></div>

        <ul class="sidebar-menu">
            <!-- FIXED: Changed href="#" to javascript:void(0) and added proper event handling -->
            <li><a href="javascript:void(0)" class="active" data-section="dashboard"><span class="icon">üìä</span> Dashboard</a></li>

            <div class="menu-label">Event Management</div>
            <li><a href="javascript:void(0)" data-section="events"><span class="icon">üìÖ</span> All Events</a></li>
            <li><a href="javascript:void(0)" id="createEventBtn"><span class="icon">‚ûï</span> Create Event</a></li>
            <li><a href="javascript:void(0)" data-section="pending"><span class="icon">‚è≥</span> Pending Approval</a></li>

            <div class="menu-label">AI Tools</div>
            <li><a href="javascript:void(0)" id="aiSchedulerBtn"><span class="icon">ü§ñ</span> AI Scheduler</a></li>
            <li><a href="javascript:void(0)" id="aiSpeechBtn"><span class="icon">üé§</span> AI Speech Writer</a></li>

            <div class="menu-label">Participants</div>
            <li><a href="javascript:void(0)" data-section="participants"><span class="icon">üë•</span> All Participants</a></li>
            <li><a href="javascript:void(0)" data-section="notifications"><span class="icon">üì±</span> SMS Notifications</a></li>

            <div class="menu-label">Settings</div>
            <li><a href="javascript:void(0)" data-section="settings"><span class="icon">‚öôÔ∏è</span> Settings</a></li>
        </ul>

        <button class="logout-btn" id="logoutBtn">
            <span>üö™</span> Logout
        </button>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="page-title">
                <h1 id="pageTitle">Dashboard</h1>
                <p id="pageSubtitle">Welcome back, Admin!</p>
            </div>
            <div class="top-bar-right">
                <button class="notification-btn" id="notificationBtn">
                    üîî
                    <span class="notification-badge">3</span>
                </button>
                <div class="user-profile">
                    <div class="user-avatar" id="userAvatarDisplay">A</div>
                    <div class="user-info">
                        <div class="user-name" id="adminNameDisplay">Admin</div>
                        <div class="user-role">Administrator</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-card-header">
                    <div>
                        <div class="stat-value" id="totalEventsCount">0</div>
                        <div class="stat-label">Total Events</div>
                    </div>
                    <div class="stat-icon purple">üìÖ</div>
                </div>
                <span class="stat-change positive">‚Üë 12% from last month</span>
            </div>
            <div class="stat-card">
                <div class="stat-card-header">
                    <div>
                        <div class="stat-value" id="totalParticipantsCount">0</div>
                        <div class="stat-label">Total Participants</div>
                    </div>
                    <div class="stat-icon green">üë•</div>
                </div>
                <span class="stat-change positive">‚Üë 8% from last month</span>
            </div>
            <div class="stat-card">
                <div class="stat-card-header">
                    <div>
                        <div class="stat-value" id="pendingCount">0</div>
                        <div class="stat-label">Pending Approval</div>
                    </div>
                    <div class="stat-icon orange">‚è≥</div>
                </div>
                <span class="stat-change negative">Needs attention</span>
            </div>
            <div class="stat-card">
                <div class="stat-card-header">
                    <div>
                        <div class="stat-value" id="liveEventsCount">0</div>
                        <div class="stat-label">Live Events</div>
                    </div>
                    <div class="stat-icon red">üî¥</div>
                </div>
                <span class="stat-change positive">Active now</span>
            </div>
        </div>

        <!-- Content Grid -->
        <div class="content-grid">
            <!-- Events Table -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Recent Events</h3>
                    <button class="btn btn-primary btn-sm" id="addEventBtn">+ Add Event</button>
                </div>
                <table class="events-table">
                    <thead>
                        <tr>
                            <th>Event</th>
                            <th>Date</th>
                            <th>Participants</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="eventsTableBody">
                        <!-- Events will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Right Column -->
            <div>
                <!-- AI Tools -->
                <div class="card ai-section">
                    <h3 class="card-title" style="margin-bottom: 15px;">AI Tools</h3>
                    <div class="ai-tools-grid">
                        <div class="ai-tool-card" id="aiSchedulerCard">
                            <div class="ai-tool-icon">üìã</div>
                            <h4>Schedule Generator</h4>
                            <p>Create event schedules with AI</p>
                        </div>
                        <div class="ai-tool-card" id="aiSpeechCard">
                            <div class="ai-tool-icon">üé§</div>
                            <h4>Speech Writer</h4>
                            <p>Generate event speeches</p>
                        </div>
                    </div>
                </div>

                <!-- Recent Participants -->
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h3 class="card-title">Recent Registrations</h3>
                    </div>
                    <div id="participantsList">
                        <!-- Participants will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Chatbot Widget -->
    <div class="chatbot-container">
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h3>ü§ñ AI Assistant</h3>
                <button class="chatbot-close" id="chatbotClose">√ó</button>
            </div>
            <div class="chatbot-messages" id="chatMessages">
                <div class="message bot">
                    <div class="message-content">
                        Hello Admin! I'm your AI assistant. I can help you with:
                        <br><br>
                        ‚Ä¢ Generate event schedules<br>
                        ‚Ä¢ Write speeches<br>
                        ‚Ä¢ Answer questions<br>
                        ‚Ä¢ Manage events
                    </div>
                </div>
            </div>
            <div class="quick-actions">
                <button class="quick-action-btn" data-action="schedule">Generate Schedule</button>
                <button class="quick-action-btn" data-action="speech">Write Speech</button>
                <button class="quick-action-btn" data-action="help">Help</button>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatInput" placeholder="Type your message...">
                <button id="sendChatBtn">‚û§</button>
            </div>
        </div>
        <div class="chatbot-toggle" id="chatbotToggle">ü§ñ</div>
    </div>

    <!-- Create Event Modal -->
    <div class="modal" id="createEventModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Event</h3>
                <button class="modal-close" data-modal="createEventModal">√ó</button>
            </div>
            <div class="modal-body">
                <form id="createEventForm">
                    <div class="form-group">
                        <label>Event Title</label>
                        <input type="text" id="eventTitle" placeholder="Enter event title" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Date</label>
                            <input type="date" id="eventDate" required>
                        </div>
                        <div class="form-group">
                            <label>Time</label>
                            <input type="time" id="eventTime" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Venue</label>
                        <input type="text" id="eventVenue" placeholder="Enter venue" required>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="eventDescription" placeholder="Enter event description" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Event Type</label>
                        <select id="eventType">
                            <option value="conference">Conference</option>
                            <option value="workshop">Workshop</option>
                            <option value="seminar">Seminar</option>
                            <option value="cultural">Cultural Event</option>
                            <option value="sports">Sports Event</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Maximum Participants</label>
                        <input type="number" id="maxParticipants" placeholder="Enter max participants" value="100">
                    </div>

                    <div class="form-group">
                        <label>AI Generated Schedule</label>
                        <button type="button" class="ai-generate-btn" id="generateScheduleBtn">
                            ü§ñ Generate Schedule with AI
                        </button>
                        <div class="generated-content" id="generatedSchedule" style="display: none;"></div>
                    </div>

                    <div class="form-group">
                        <label>AI Generated Speech</label>
                        <button type="button" class="ai-generate-btn" id="generateSpeechBtn">
                            üé§ Generate Speech with AI
                        </button>
                        <div class="generated-content" id="generatedSpeech" style="display: none;"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn" style="background: #eee;" data-modal="createEventModal">Cancel</button>
                <button class="btn btn-primary" id="submitEventBtn">Create Event</button>
            </div>
        </div>
    </div>

    <!-- AI Schedule Generator Modal -->
    <div class="modal" id="aiSchedulerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ü§ñ AI Schedule Generator</h3>
                <button class="modal-close" data-modal="aiSchedulerModal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Event Type</label>
                    <select id="scheduleEventType">
                        <option value="conference">Conference</option>
                        <option value="workshop">Workshop</option>
                        <option value="seminar">Seminar</option>
                        <option value="cultural">Cultural Event</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Duration (hours)</label>
                        <input type="number" id="scheduleDuration" value="4">
                    </div>
                    <div class="form-group">
                        <label>Start Time</label>
                        <input type="time" id="scheduleStartTime" value="09:00">
                    </div>
                </div>
                <div class="form-group">
                    <label>Key Activities (comma separated)</label>
                    <input type="text" id="scheduleActivities" placeholder="e.g., keynote, panel discussion, networking">
                </div>
                <button class="btn btn-primary" style="width: 100%;" id="generateFullScheduleBtn">
                    ü§ñ Generate Schedule
                </button>
                <div class="generated-content" id="fullGeneratedSchedule" style="display: none; margin-top: 20px;"></div>
            </div>
        </div>
    </div>

    <!-- AI Speech Generator Modal -->
    <div class="modal" id="aiSpeechModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üé§ AI Speech Writer</h3>
                <button class="modal-close" data-modal="aiSpeechModal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Speech Type</label>
                    <select id="speechType">
                        <option value="opening">Opening Speech</option>
                        <option value="closing">Closing Speech</option>
                        <option value="welcome">Welcome Address</option>
                        <option value="keynote">Keynote Introduction</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Event Name</label>
                    <input type="text" id="speechEventName" placeholder="Enter event name">
                </div>
                <div class="form-group">
                    <label>Audience Type</label>
                    <select id="speechAudience">
                        <option value="students">Students</option>
                        <option value="professionals">Professionals</option>
                        <option value="general">General Public</option>
                        <option value="academics">Academics</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Tone</label>
                    <select id="speechTone">
                        <option value="formal">Formal</option>
                        <option value="friendly">Friendly</option>
                        <option value="inspiring">Inspiring</option>
                        <option value="professional">Professional</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Key Points to Include (optional)</label>
                    <textarea id="speechKeyPoints" placeholder="Enter key points to include in the speech"></textarea>
                </div>
                <button class="btn btn-primary" style="width: 100%;" id="generateFullSpeechBtn">
                    üé§ Generate Speech
                </button>
                <div class="generated-content" id="fullGeneratedSpeech" style="display: none; margin-top: 20px;"></div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // GLOBAL VARIABLES
        // ============================================
        let events = [];
        let participants = [];
        let currentEditEventId = null;

        // ============================================
        // INITIALIZATION
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Loaded - Initializing Admin Dashboard');
            
            // Check Authentication (comment out for testing)
            // checkAuthentication();
            
            // Initialize Data
            initializeData();
            
            // Load Dashboard
            loadDashboard();
            
            // Setup Event Listeners
            setupEventListeners();
            
            console.log('Admin Dashboard Initialized Successfully');
        });

        // ============================================
        // AUTHENTICATION
        // ============================================
        function checkAuthentication() {
            if (!sessionStorage.getItem('adminLoggedIn')) {
                console.log('Not authenticated, redirecting to login');
                window.location.href = 'admin-login.html';
            }
        }

        // ============================================
        // DATA INITIALIZATION
        // ============================================
        function initializeData() {
            // Load events from localStorage
            events = JSON.parse(localStorage.getItem('events')) || [];
            
            // Sample Data if empty
            if (events.length === 0) {
                events = [
                    {
                        id: 1,
                        title: "Tech Conference 2024",
                        date: "2024-02-15",
                        time: "09:00",
                        venue: "Main Auditorium",
                        description: "Annual technology conference",
                        type: "conference",
                        status: "approved",
                        participants: 45,
                        maxParticipants: 100,
                        icon: "üíª"
                    },
                    {
                        id: 2,
                        title: "Cultural Fest",
                        date: "2024-02-20",
                        time: "10:00",
                        venue: "Open Ground",
                        description: "Annual cultural celebration",
                        type: "cultural",
                        status: "pending",
                        participants: 120,
                        maxParticipants: 200,
                        icon: "üé≠"
                    },
                    {
                        id: 3,
                        title: "Workshop on AI",
                        date: "2024-02-25",
                        time: "14:00",
                        venue: "Room 101",
                        description: "Hands-on AI workshop",
                        type: "workshop",
                        status: "approved",
                        participants: 30,
                        maxParticipants: 50,
                        icon: "ü§ñ"
                    }
                ];
                localStorage.setItem('events', JSON.stringify(events));
            }

            // Load participants from localStorage
            participants = JSON.parse(localStorage.getItem('participants')) || [];
            
            if (participants.length === 0) {
                participants = [
                    { id: 1, name: "John Doe", email: "john@email.com", phone: "1234567890", eventId: 1, eventTitle: "Tech Conference 2024" },
                    { id: 2, name: "Jane Smith", email: "jane@email.com", phone: "0987654321", eventId: 1, eventTitle: "Tech Conference 2024" },
                    { id: 3, name: "Mike Johnson", email: "mike@email.com", phone: "5555555555", eventId: 2, eventTitle: "Cultural Fest" }
                ];
                localStorage.setItem('participants', JSON.stringify(participants));
            }

            console.log('Data initialized:', { events: events.length, participants: participants.length });
        }

        // ============================================
        // EVENT LISTENERS SETUP
        // ============================================
        function setupEventListeners() {
            // Sidebar Menu Links
            document.querySelectorAll('.sidebar-menu a[data-section]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    showSection(section, this);
                });
            });

            // Create Event Button (Sidebar)
            document.getElementById('createEventBtn').addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Create Event button clicked');
                openModal('createEventModal');
            });

            // Add Event Button (Table Header)
            document.getElementById('addEventBtn').addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Add Event button clicked');
                openModal('createEventModal');
            });

            // AI Scheduler Button (Sidebar)
            document.getElementById('aiSchedulerBtn').addEventListener('click', function(e) {
                e.preventDefault();
                openModal('aiSchedulerModal');
            });

            // AI Speech Button (Sidebar)
            document.getElementById('aiSpeechBtn').addEventListener('click', function(e) {
                e.preventDefault();
                openModal('aiSpeechModal');
            });

            // AI Tool Cards
            document.getElementById('aiSchedulerCard').addEventListener('click', function() {
                openModal('aiSchedulerModal');
            });

            document.getElementById('aiSpeechCard').addEventListener('click', function() {
                openModal('aiSpeechModal');
            });

            // Modal Close Buttons
            document.querySelectorAll('.modal-close, [data-modal]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const modalId = this.getAttribute('data-modal');
                    if (modalId) {
                        closeModal(modalId);
                    }
                });
            });

            // Close modal when clicking outside
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.classList.remove('active');
                    }
                });
            });

            // Submit Event Button
            document.getElementById('submitEventBtn').addEventListener('click', function(e) {
                e.preventDefault();
                createEvent();
            });

            // Generate Schedule Button (in Create Event form)
            document.getElementById('generateScheduleBtn').addEventListener('click', function(e) {
                e.preventDefault();
                generateScheduleInForm();
            });

            // Generate Speech Button (in Create Event form)
            document.getElementById('generateSpeechBtn').addEventListener('click', function(e) {
                e.preventDefault();
                generateSpeechInForm();
            });

            // Generate Full Schedule Button
            document.getElementById('generateFullScheduleBtn').addEventListener('click', function(e) {
                e.preventDefault();
                generateFullSchedule();
            });

            // Generate Full Speech Button
            document.getElementById('generateFullSpeechBtn').addEventListener('click', function(e) {
                e.preventDefault();
                generateFullSpeech();
            });

            // Chatbot Toggle
            document.getElementById('chatbotToggle').addEventListener('click', function() {
                toggleChatbot();
            });

            // Chatbot Close
            document.getElementById('chatbotClose').addEventListener('click', function() {
                toggleChatbot();
            });

            // Chat Input
            document.getElementById('chatInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendChatMessage();
                }
            });

            // Send Chat Button
            document.getElementById('sendChatBtn').addEventListener('click', function() {
                sendChatMessage();
            });

            // Quick Action Buttons
            document.querySelectorAll('.quick-action-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const action = this.getAttribute('data-action');
                    handleQuickAction(action);
                });
            });

            // Logout Button
            document.getElementById('logoutBtn').addEventListener('click', function() {
                logout();
            });

            console.log('Event listeners setup complete');
        }

        // ============================================
        // DASHBOARD FUNCTIONS
        // ============================================
        function loadDashboard() {
            // Update Stats
            document.getElementById('totalEventsCount').textContent = events.length;
            document.getElementById('totalParticipantsCount').textContent = participants.length;
            document.getElementById('pendingCount').textContent = events.filter(e => e.status === 'pending').length;
            document.getElementById('liveEventsCount').textContent = events.filter(e => e.status === 'live').length;

            // Load Events Table
            loadEventsTable();

            // Load Participants List
            loadParticipantsList();

            console.log('Dashboard loaded');
        }

        function loadEventsTable() {
            const tbody = document.getElementById('eventsTableBody');
            
            if (events.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 20px;">No events found. Create your first event!</td></tr>';
                return;
            }

            tbody.innerHTML = events.map(event => `
                <tr>
                    <td>
                        <div class="event-name">
                            <div class="event-icon">${event.icon || 'üìÖ'}</div>
                            <div>
                                <strong>${event.title}</strong>
                                <br><small style="color: #666;">${event.venue}</small>
                            </div>
                        </div>
                    </td>
                    <td>${formatDate(event.date)}</td>
                    <td>${event.participants || 0}/${event.maxParticipants}</td>
                    <td><span class="status-badge status-${event.status}">${capitalizeFirst(event.status)}</span></td>
                    <td>
                        <div class="action-btns">
                            ${event.status === 'pending' ? `
                                <button class="btn btn-success btn-sm" onclick="approveEvent(${event.id})">‚úì</button>
                                <button class="btn btn-danger btn-sm" onclick="rejectEvent(${event.id})">‚úó</button>
                            ` : `
                                <button class="btn btn-sm" style="background: #eee;" onclick="viewEvent(${event.id})">üëÅ</button>
                                <button class="btn btn-sm" style="background: #eee;" onclick="editEvent(${event.id})">‚úèÔ∏è</button>
                                <button class="btn btn-danger btn-sm" onclick="deleteEvent(${event.id})">üóë</button>
                            `}
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function loadParticipantsList() {
            const list = document.getElementById('participantsList');
            const recentParticipants = participants.slice(-5).reverse();

            if (recentParticipants.length === 0) {
                list.innerHTML = '<p style="text-align: center; padding: 20px; color: #666;">No participants yet</p>';
                return;
            }

            list.innerHTML = recentParticipants.map(p => `
                <div class="participant-item">
                    <div class="participant-info">
                        <div class="participant-avatar">${p.name.charAt(0)}</div>
                        <div>
                            <div class="participant-name">${p.name}</div>
                            <div class="participant-event">${p.eventTitle}</div>
                        </div>
                    </div>
                    <button class="btn btn-sm" style="background: #eee;" onclick="viewParticipant(${p.id})">View</button>
                </div>
            `).join('');
        }

        // ============================================
        // MODAL FUNCTIONS
        // ============================================
        function openModal(modalId) {
            console.log('Opening modal:', modalId);
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
                console.log('Modal opened successfully');
            } else {
                console.error('Modal not found:', modalId);
            }
        }

        function closeModal(modalId) {
            console.log('Closing modal:', modalId);
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
            }
        }

        // ============================================
        // EVENT CRUD OPERATIONS
        // ============================================
        function createEvent() {
            const title = document.getElementById('eventTitle').value.trim();
            const date = document.getElementById('eventDate').value;
            const time = document.getElementById('eventTime').value;
            const venue = document.getElementById('eventVenue').value.trim();
            const description = document.getElementById('eventDescription').value.trim();
            const type = document.getElementById('eventType').value;
            const maxParticipants = parseInt(document.getElementById('maxParticipants').value) || 100;

            // Validation
            if (!title || !date || !time || !venue || !description) {
                alert('Please fill in all required fields!');
                return;
            }

            const newEvent = {
                id: Date.now(),
                title: title,
                date: date,
                time: time,
                venue: venue,
                description: description,
                type: type,
                maxParticipants: maxParticipants,
                participants: 0,
                status: 'pending',
                icon: getEventIcon(type),
                schedule: document.getElementById('generatedSchedule').innerHTML || '',
                speech: document.getElementById('generatedSpeech').innerHTML || '',
                createdAt: new Date().toISOString()
            };

            events.push(newEvent);
            localStorage.setItem('events', JSON.stringify(events));

            closeModal('createEventModal');
            loadDashboard();
            
            // Reset form
            document.getElementById('createEventForm').reset();
            document.getElementById('generatedSchedule').style.display = 'none';
            document.getElementById('generatedSchedule').innerHTML = '';
            document.getElementById('generatedSpeech').style.display = 'none';
            document.getElementById('generatedSpeech').innerHTML = '';

            alert('Event created successfully! It will be visible after approval.');
            console.log('Event created:', newEvent);
        }

        function approveEvent(id) {
            const eventIndex = events.findIndex(e => e.id === id);
            if (eventIndex !== -1) {
                events[eventIndex].status = 'approved';
                localStorage.setItem('events', JSON.stringify(events));
                loadDashboard();
                alert('Event approved successfully!');
            }
        }

        function rejectEvent(id) {
            if (confirm('Are you sure you want to reject this event?')) {
                const eventIndex = events.findIndex(e => e.id === id);
                if (eventIndex !== -1) {
                    events[eventIndex].status = 'rejected';
                    localStorage.setItem('events', JSON.stringify(events));
                    loadDashboard();
                    alert('Event rejected.');
                }
            }
        }

        function deleteEvent(id) {
            if (confirm('Are you sure you want to delete this event?')) {
                events = events.filter(e => e.id !== id);
                localStorage.setItem('events', JSON.stringify(events));
                loadDashboard();
                alert('Event deleted successfully!');
            }
        }

        function viewEvent(id) {
            const event = events.find(e => e.id === id);
            if (event) {
                alert(`Event Details:\n\nTitle: ${event.title}\nDate: ${event.date}\nTime: ${event.time}\nVenue: ${event.venue}\nDescription: ${event.description}\nParticipants: ${event.participants}/${event.maxParticipants}`);
            }
        }

        function editEvent(id) {
            const event = events.find(e => e.id === id);
            if (event) {
                currentEditEventId = id;
                document.getElementById('eventTitle').value = event.title;
                document.getElementById('eventDate').value = event.date;
                document.getElementById('eventTime').value = event.time;
                document.getElementById('eventVenue').value = event.venue;
                document.getElementById('eventDescription').value = event.description;
                document.getElementById('eventType').value = event.type;
                document.getElementById('maxParticipants').value = event.maxParticipants;
                openModal('createEventModal');
            }
        }

        function viewParticipant(id) {
            const participant = participants.find(p => p.id === id);
            if (participant) {
                alert(`Participant Details:\n\nName: ${participant.name}\nEmail: ${participant.email}\nPhone: ${participant.phone}\nEvent: ${participant.eventTitle}`);
            }
        }

        // ============================================
        // AI GENERATION FUNCTIONS
        // ============================================
        function generateScheduleInForm() {
            const eventType = document.getElementById('eventType').value;
            const eventTime = document.getElementById('eventTime').value || '09:00';
            
            const schedule = generateAISchedule(eventType, eventTime, 4);
            
            document.getElementById('generatedSchedule').innerHTML = schedule;
            document.getElementById('generatedSchedule').style.display = 'block';
        }

        function generateSpeechInForm() {
            const eventTitle = document.getElementById('eventTitle').value || 'the event';
            const speech = generateAISpeech('opening', eventTitle, 'students', 'formal');
            
            document.getElementById('generatedSpeech').innerHTML = speech;
            document.getElementById('generatedSpeech').style.display = 'block';
        }

        function generateFullSchedule() {
            const eventType = document.getElementById('scheduleEventType').value;
            const duration = parseInt(document.getElementById('scheduleDuration').value);
            const startTime = document.getElementById('scheduleStartTime').value;
            const activities = document.getElementById('scheduleActivities').value;
            
            const schedule = generateAISchedule(eventType, startTime, duration, activities);
            
            document.getElementById('fullGeneratedSchedule').innerHTML = schedule;
            document.getElementById('fullGeneratedSchedule').style.display = 'block';
        }

        function generateFullSpeech() {
            const speechType = document.getElementById('speechType').value;
            const eventName = document.getElementById('speechEventName').value || 'the event';
            const audience = document.getElementById('speechAudience').value;
            const tone = document.getElementById('speechTone').value;
            const keyPoints = document.getElementById('speechKeyPoints').value;
            
            const speech = generateAISpeech(speechType, eventName, audience, tone, keyPoints);
            
            document.getElementById('fullGeneratedSpeech').innerHTML = speech;
            document.getElementById('fullGeneratedSpeech').style.display = 'block';
        }

        function generateAISchedule(type, startTime, duration, customActivities = '') {
            const schedules = {
                conference: [
                    { time: 0, activity: "Registration & Welcome Coffee", duration: 30 },
                    { time: 30, activity: "Opening Ceremony", duration: 30 },
                    { time: 60, activity: "Keynote Speech", duration: 45 },
                    { time: 105, activity: "Tea Break", duration: 15 },
                    { time: 120, activity: "Panel Discussion", duration: 60 },
                    { time: 180, activity: "Lunch Break", duration: 60 },
                    { time: 240, activity: "Technical Sessions", duration: 90 },
                    { time: 330, activity: "Networking Session", duration: 30 },
                    { time: 360, activity: "Closing Remarks", duration: 30 }
                ],
                workshop: [
                    { time: 0, activity: "Introduction & Setup", duration: 30 },
                    { time: 30, activity: "Theory Session", duration: 60 },
                    { time: 90, activity: "Break", duration: 15 },
                    { time: 105, activity: "Hands-on Practice", duration: 90 },
                    { time: 195, activity: "Q&A Session", duration: 30 },
                    { time: 225, activity: "Wrap-up & Certificates", duration: 15 }
                ],
                seminar: [
                    { time: 0, activity: "Welcome Address", duration: 15 },
                    { time: 15, activity: "Speaker Introduction", duration: 10 },
                    { time: 25, activity: "Main Presentation", duration: 60 },
                    { time: 85, activity: "Interactive Q&A", duration: 30 },
                    { time: 115, activity: "Closing Remarks", duration: 15 }
                ],
                cultural: [
                    { time: 0, activity: "Inauguration Ceremony", duration: 30 },
                    { time: 30, activity: "Dance Performances", duration: 60 },
                    { time: 90, activity: "Music Performances", duration: 60 },
                    { time: 150, activity: "Break", duration: 30 },
                    { time: 180, activity: "Drama/Skit", duration: 45 },
                    { time: 225, activity: "Prize Distribution", duration: 30 },
                    { time: 255, activity: "Vote of Thanks", duration: 15 }
                ]
            };

            const schedule = schedules[type] || schedules.conference;
            let html = '<strong>üìã AI Generated Schedule:</strong><br><br>';

            schedule.forEach(item => {
                const itemTime = addMinutesToTime(startTime, item.time);
                html += `<strong>${itemTime}</strong> - ${item.activity} (${item.duration} mins)<br>`;
            });

            if (customActivities) {
                html += '<br><strong>Custom Activities:</strong><br>';
                customActivities.split(',').forEach(activity => {
                    html += `‚Ä¢ ${activity.trim()}<br>`;
                });
            }

            return html;
        }

        function generateAISpeech(type, eventName, audience, tone, keyPoints = '') {
            const speeches = {
                opening: {
                    formal: `
                        <strong>üé§ Opening Speech:</strong><br><br>
                        Distinguished guests, respected faculty members, and dear ${audience},<br><br>
                        It is my great honor and privilege to welcome you all to ${eventName}. Today marks a significant milestone in our journey towards excellence and innovation.<br><br>
                        As we gather here, we are reminded of the power of collaboration and the endless possibilities that arise when brilliant minds come together. This event represents our commitment to fostering growth, learning, and meaningful connections.<br><br>
                        I encourage each one of you to actively participate, ask questions, and make the most of this opportunity. Let us embark on this journey of discovery together.<br><br>
                        Thank you, and let the event begin!
                    `,
                    friendly: `
                        <strong>üé§ Opening Speech:</strong><br><br>
                        Hey everyone! Welcome to ${eventName}! üéâ<br><br>
                        I'm so excited to see all of you here today. This is going to be an amazing experience, and I can't wait to share it with you all.<br><br>
                        We've got some incredible sessions lined up, and I promise you'll leave here with new ideas, new connections, and hopefully some great memories too!<br><br>
                        So let's have fun, learn together, and make this event one to remember. Let's get started!
                    `,
                    inspiring: `
                        <strong>üé§ Opening Speech:</strong><br><br>
                        Dear friends and future leaders,<br><br>
                        Welcome to ${eventName} ‚Äì a celebration of potential, passion, and purpose!<br><br>
                        Today, you stand at the threshold of opportunity. Every great achievement in history began with a single moment of inspiration, and this could be that moment for you.<br><br>
                        Dream big, aim high, and remember ‚Äì the only limit is the one you set for yourself. Let this event be the spark that ignites your journey to greatness!<br><br>
                        Let's make history together!
                    `,
                    professional: `
                        <strong>üé§ Opening Speech:</strong><br><br>
                        Good morning/afternoon, esteemed colleagues and valued participants,<br><br>
                        On behalf of the organizing committee, I am pleased to welcome you to ${eventName}.<br><br>
                        Today's agenda has been carefully curated to provide maximum value and actionable insights. We have assembled leading experts who will share their knowledge and experience.<br><br>
                        I encourage you to engage actively, network with fellow participants, and leverage this opportunity for professional growth.<br><br>
                        Let us begin.
                    `
                },
                closing: {
                    formal: `
                        <strong>üé§ Closing Speech:</strong><br><br>
                        Distinguished guests and dear participants,<br><br>
                        As we conclude ${eventName}, I want to express my heartfelt gratitude to everyone who made this event possible.<br><br>
                        The insights shared, the connections made, and the knowledge gained today will undoubtedly contribute to our collective growth. I hope you carry forward the lessons learned and apply them in your endeavors.<br><br>
                        Thank you for your active participation and enthusiasm. Until we meet again, I wish you all continued success.<br><br>
                        Good evening and safe travels!
                    `,
                    friendly: `
                        <strong>üé§ Closing Speech:</strong><br><br>
                        Wow, what an incredible day! üåü<br><br>
                        I want to thank each and every one of you for making ${eventName} such a memorable experience. Your energy, questions, and participation made all the difference.<br><br>
                        Take what you've learned today and run with it! And hey, don't be strangers ‚Äì let's stay connected!<br><br>
                        Until next time, take care and keep being awesome! üëã
                    `,
                    inspiring: `
                        <strong>üé§ Closing Speech:</strong><br><br>
                        As we bring ${eventName} to a close, remember this moment.<br><br>
                        Today, you have been equipped with knowledge, connected with like-minded individuals, and hopefully found renewed inspiration for your journey ahead.<br><br>
                        Go forth and make a difference. The world needs what you have to offer. Never stop learning, never stop growing, and never stop believing in yourself.<br><br>
                        Thank you for being here. Now go change the world! üöÄ
                    `,
                    professional: `
                        <strong>üé§ Closing Speech:</strong><br><br>
                        As we conclude ${eventName}, I would like to extend my sincere appreciation to all participants, speakers, and organizers.<br><br>
                        The discussions and insights shared today represent significant value for our professional development. I encourage you to implement the learnings and maintain the connections established.<br><br>
                        Thank you for your time and engagement. We look forward to future collaborations.
                    `
                },
                welcome: {
                    formal: `
                        <strong>üé§ Welcome Address:</strong><br><br>
                        Respected dignitaries, esteemed guests, and dear ${audience},<br><br>
                        On behalf of the organizing committee, I extend a warm and hearty welcome to ${eventName}.<br><br>
                        Your presence here today adds immense value to this gathering. We have worked diligently to create an enriching experience for all of you.<br><br>
                        Please feel at home, engage with fellow participants, and make the most of every moment. Welcome once again!
                    `,
                    friendly: `
                        <strong>üé§ Welcome Address:</strong><br><br>
                        Hello, hello, hello! üëã<br><br>
                        Welcome to ${eventName}! We're so thrilled to have you here. Whether you've traveled far or just around the corner, we appreciate you taking the time to join us.<br><br>
                        Make yourselves comfortable, grab a coffee, and get ready for an amazing experience. We're going to have a great time together!<br><br>
                        Welcome aboard! üéä
                    `,
                    inspiring: `
                        <strong>üé§ Welcome Address:</strong><br><br>
                        Welcome, dreamers, doers, and difference-makers!<br><br>
                        Today marks the beginning of something special. ${eventName} is not just an event ‚Äì it's a movement, a community, a catalyst for change.<br><br>
                        You are here because you believe in growth, in learning, in pushing boundaries. And for that, we welcome you with open arms.<br><br>
                        Let's make magic happen! ‚ú®
                    `,
                    professional: `
                        <strong>üé§ Welcome Address:</strong><br><br>
                        Good morning/afternoon, distinguished guests and valued participants,<br><br>
                        It is my pleasure to welcome you to ${eventName}. This event has been designed with your professional development in mind.<br><br>
                        Our agenda features industry experts, interactive sessions, and networking opportunities. We trust you will find the content valuable and applicable to your work.<br><br>
                        Welcome, and we hope you have a productive experience.
                    `
                },
                keynote: {
                    formal: `
                        <strong>üé§ Keynote Introduction:</strong><br><br>
                        Ladies and gentlemen,<br><br>
                        It is with great pleasure that I introduce our keynote speaker for ${eventName}.<br><br>
                        Our speaker today is a distinguished leader in their field, bringing years of experience and invaluable insights. Their contributions have shaped the industry and inspired countless professionals.<br><br>
                        Please join me in giving a warm welcome to our esteemed keynote speaker!
                    `,
                    friendly: `
                        <strong>üé§ Keynote Introduction:</strong><br><br>
                        Alright everyone, this is the moment we've all been waiting for! üé§<br><br>
                        I'm super excited to introduce someone who's going to absolutely blow your minds today. They've done incredible things and have amazing stories to share.<br><br>
                        Without further ado, let's give a huge round of applause for our keynote speaker!
                    `,
                    inspiring: `
                        <strong>üé§ Keynote Introduction:</strong><br><br>
                        Today, we have the privilege of hearing from someone truly extraordinary.<br><br>
                        Our keynote speaker has not just achieved success ‚Äì they have redefined what's possible. Their journey is a testament to perseverance, innovation, and the power of vision.<br><br>
                        Prepare to be inspired, challenged, and transformed. Please welcome our keynote speaker!
                    `,
                    professional: `
                        <strong>üé§ Keynote Introduction:</strong><br><br>
                        Distinguished colleagues,<br><br>
                        I am honored to introduce our keynote speaker for ${eventName}. With extensive experience and recognized expertise, our speaker brings unique perspectives on current industry trends and future directions.<br><br>
                        Their insights will undoubtedly add significant value to today's proceedings. Please welcome our keynote speaker.
                    `
                }
            };

            let speech = speeches[type]?.[tone] || speeches[type]?.formal || speeches.opening.formal;

            if (keyPoints) {
                speech += `<br><br><strong>Key Points:</strong><br>`;
                keyPoints.split('\n').forEach(point => {
                    if (point.trim()) {
                        speech += `‚Ä¢ ${point.trim()}<br>`;
                    }
                });
            }

            return speech;
        }

        // ============================================
        // CHATBOT FUNCTIONS
        // ============================================
        function toggleChatbot() {
            document.getElementById('chatbotWindow').classList.toggle('active');
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (message) {
                addChatMessage(message, 'user');
                input.value = '';

                // Simulate AI response
                setTimeout(() => {
                    const response = getAIResponse(message);
                    addChatMessage(response, 'bot');
                }, 500);
            }
        }

        function addChatMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `<div class="message-content">${text}</div>`;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function getAIResponse(message) {
            const lowerMessage = message.toLowerCase();

            if (lowerMessage.includes('schedule') || lowerMessage.includes('generate schedule')) {
                return "I can help you generate a schedule! Click on 'Generate Schedule' in the quick actions or go to AI Tools > AI Scheduler to create a customized event schedule.";
            } else if (lowerMessage.includes('speech') || lowerMessage.includes('write speech')) {
                return "I can write speeches for you! Use the 'Write Speech' quick action or go to AI Tools > AI Speech Writer to generate opening, closing, or welcome speeches.";
            } else if (lowerMessage.includes('create event') || lowerMessage.includes('new event')) {
                return "To create a new event, click on 'Create Event' in the sidebar or use the '+ Add Event' button. Fill in the details and I can help generate schedules and speeches!";
            } else if (lowerMessage.includes('participant') || lowerMessage.includes('registration')) {
                return `You currently have ${participants.length} registered participants across all events. You can view detailed information in the Participants section.`;
            } else if (lowerMessage.includes('help')) {
                return "I can help you with:<br>‚Ä¢ Generating event schedules<br>‚Ä¢ Writing speeches<br>‚Ä¢ Creating events<br>‚Ä¢ Managing participants<br>‚Ä¢ Sending notifications<br><br>Just ask me anything!";
            } else if (lowerMessage.includes('hello') || lowerMessage.includes('hi')) {
                return "Hello! üëã I'm your AI assistant. How can I help you today?";
            } else if (lowerMessage.includes('event') && lowerMessage.includes('how many')) {
                return `You currently have ${events.length} events in the system. ${events.filter(e => e.status === 'pending').length} are pending approval.`;
            } else {
                return "I understand you're asking about: \"" + message + "\". For specific help, try asking about schedules, speeches, events, or participants. You can also use the quick action buttons below!";
            }
        }

        function handleQuickAction(action) {
            switch (action) {
                case 'schedule':
                    addChatMessage("Generate a schedule for me", 'user');
                    setTimeout(() => {
                        addChatMessage("Opening AI Schedule Generator...", 'bot');
                        openModal('aiSchedulerModal');
                    }, 500);
                    break;
                case 'speech':
                    addChatMessage("Write a speech for me", 'user');
                    setTimeout(() => {
                        addChatMessage("Opening AI Speech Writer...", 'bot');
                        openModal('aiSpeechModal');
                    }, 500);
                    break;
                case 'help':
                    addChatMessage("Help", 'user');
                    setTimeout(() => {
                        addChatMessage(getAIResponse('help'), 'bot');
                    }, 500);
                    break;
            }
        }

        // ============================================
        // SECTION NAVIGATION
        // ============================================
        function showSection(section, clickedElement) {
            // Update active menu
            document.querySelectorAll('.sidebar-menu a').forEach(a => a.classList.remove('active'));
            if (clickedElement) {
                clickedElement.classList.add('active');
            }

            // Update page title
            const titles = {
                dashboard: { title: 'Dashboard', subtitle: 'Welcome back, Admin!' },
                events: { title: 'All Events', subtitle: 'Manage your events' },
                pending: { title: 'Pending Approval', subtitle: 'Events waiting for approval' },
                participants: { title: 'All Participants', subtitle: 'View all registered participants' },
                notifications: { title: 'SMS Notifications', subtitle: 'Manage SMS reminders' },
                settings: { title: 'Settings', subtitle: 'Configure your preferences' }
            };

            const pageInfo = titles[section] || titles.dashboard;
            document.getElementById('pageTitle').textContent = pageInfo.title;
            document.getElementById('pageSubtitle').textContent = pageInfo.subtitle;

            // Handle different sections
            switch (section) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'events':
                    loadDashboard();
                    break;
                case 'pending':
                    // Filter and show pending events
                    break;
                case 'participants':
                    // Show all participants
                    break;
            }
        }

        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function capitalizeFirst(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        function getEventIcon(type) {
            const icons = {
                conference: 'üíª',
                workshop: 'üõ†Ô∏è',
                seminar: 'üìö',
                cultural: 'üé≠',
                sports: 'üèÜ',
                other: 'üìÖ'
            };
            return icons[type] || 'üìÖ';
        }

        function addMinutesToTime(time, minutes) {
            const [hours, mins] = time.split(':').map(Number);
            const totalMins = hours * 60 + mins + minutes;
            const newHours = Math.floor(totalMins / 60) % 24;
            const newMins = totalMins % 60;
            return `${String(newHours).padStart(2, '0')}:${String(newMins).padStart(2, '0')}`;
        }

        // ============================================
        // LOGOUT
        // ============================================
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                sessionStorage.removeItem('adminLoggedIn');
                sessionStorage.removeItem('adminEmail');
                window.location.href = 'index.html';
            }
        }
    </script>
</body>

</html>