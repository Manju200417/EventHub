<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Details - EventHub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #d63031;
            --dark: #2d3436;
            --light: #f8f9fa;
            --white: #ffffff;
        }

        body {
            background: var(--light);
            min-height: 100vh;
        }

        /* Navbar */
        .navbar {
            background: var(--white);
            padding: 15px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }

        .logo span {
            color: var(--dark);
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--white);
        }

        .btn-primary:hover {
            background: #5b4cdb;
            transform: translateY(-2px);
        }

        .btn-success {
            background: var(--success);
            color: var(--white);
        }

        .btn-success:hover {
            background: #00a386;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: var(--white);
        }

        /* Event Hero */
        .event-hero {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 80px 50px;
            color: var(--white);
            position: relative;
        }

        .event-hero-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            gap: 50px;
            align-items: center;
        }

        .event-icon-large {
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 100px;
            backdrop-filter: blur(10px);
        }

        .event-hero-info {
            flex: 1;
        }

        .event-badges {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .badge {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
        }

        .badge-type {
            background: rgba(255, 255, 255, 0.2);
        }

        .badge-status {
            background: var(--success);
        }

        .badge-live {
            background: var(--danger);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .event-hero-info h1 {
            font-size: 42px;
            margin-bottom: 15px;
        }

        .event-meta {
            display: flex;
            gap: 30px;
            font-size: 16px;
            opacity: 0.95;
            margin-bottom: 25px;
        }

        .event-meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .register-section {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .spots-left {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 14px;
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 50px;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .content-card {
            background: var(--white);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .content-card h2 {
            font-size: 22px;
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }

        .content-card p {
            color: #555;
            line-height: 1.8;
            font-size: 16px;
        }

        /* Schedule */
        .schedule-item {
            display: flex;
            gap: 20px;
            padding: 20px 0;
            border-bottom: 1px solid #eee;
        }

        .schedule-item:last-child {
            border-bottom: none;
        }

        .schedule-time {
            width: 100px;
            font-weight: 600;
            color: var(--primary);
            flex-shrink: 0;
        }

        .schedule-content h4 {
            color: var(--dark);
            margin-bottom: 5px;
        }

        .schedule-content p {
            font-size: 14px;
            color: #666;
        }

        /* Speakers */
        .speakers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .speaker-card {
            display: flex;
            gap: 15px;
            padding: 15px;
            background: var(--light);
            border-radius: 12px;
        }

        .speaker-avatar {
            width: 60px;
            height: 60px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 24px;
            font-weight: 600;
        }

        .speaker-info h4 {
            color: var(--dark);
            margin-bottom: 5px;
        }

        .speaker-info p {
            font-size: 13px;
            color: #666;
        }

        /* Sidebar */
        .sidebar-card {
            background: var(--white);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .sidebar-card h3 {
            font-size: 18px;
            color: var(--dark);
            margin-bottom: 20px;
        }

        .info-list {
            list-style: none;
        }

        .info-list li {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            font-size: 14px;
        }

        .info-list li:last-child {
            border-bottom: none;
        }

        .info-list .label {
            color: #666;
        }

        .info-list .value {
            color: var(--dark);
            font-weight: 500;
        }

        /* Organizer */
        .organizer-card {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: var(--light);
            border-radius: 12px;
        }

        .organizer-avatar {
            width: 50px;
            height: 50px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 20px;
        }

        .organizer-info h4 {
            color: var(--dark);
            margin-bottom: 3px;
        }

        .organizer-info p {
            font-size: 13px;
            color: #666;
        }

        /* Share */
        .share-buttons {
            display: flex;
            gap: 10px;
        }

        .share-btn {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .share-btn:hover {
            transform: scale(1.1);
        }

        .share-btn.facebook { background: #1877f2; color: white; }
        .share-btn.twitter { background: #1da1f2; color: white; }
        .share-btn.linkedin { background: #0077b5; color: white; }
        .share-btn.whatsapp { background: #25d366; color: white; }
        .share-btn.copy { background: var(--light); color: var(--dark); border: 2px solid #ddd; }

        /* Map Placeholder */
        .map-placeholder {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 40px;
            margin-top: 15px;
        }

        /* CTA Card */
        .cta-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--white);
            text-align: center;
        }

        .cta-card h3 {
            color: var(--white);
        }

        .cta-card p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 20px;
        }

        .cta-card .btn {
            background: var(--white);
            color: var(--primary);
            width: 100%;
        }

        .cta-card .btn:hover {
            background: var(--light);
        }

        /* Footer */
        .footer {
            background: var(--dark);
            color: var(--white);
            padding: 40px 50px;
            text-align: center;
            margin-top: 50px;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .event-hero-content {
                flex-direction: column;
                text-align: center;
            }

            .event-meta {
                justify-content: center;
                flex-wrap: wrap;
            }

            .register-section {
                justify-content: center;
                flex-wrap: wrap;
            }
        }

        @media (max-width: 768px) {
            .navbar {
                padding: 15px 20px;
            }

            .nav-links {
                display: none;
            }

            .event-hero {
                padding: 40px 20px;
            }

            .event-hero-info h1 {
                font-size: 28px;
            }

            .main-content {
                padding: 20px;
            }

            .speakers-grid {
                grid-template-columns: 1fr;
            }

            .event-icon-large {
                width: 150px;
                height: 150px;
                font-size: 70px;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <a href="index.html" class="logo">Event<span>Hub</span></a>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="events.html">Events</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        <div>
            <a href="student-login.html" class="btn btn-outline">Login</a>
        </div>
    </nav>

    <!-- Event Hero -->
    <section class="event-hero">
        <div class="event-hero-content">
            <div class="event-icon-large" id="eventIcon">üìÖ</div>
            <div class="event-hero-info">
                <div class="event-badges">
                    <span class="badge badge-type" id="eventType">Conference</span>
                    <span class="badge badge-status" id="eventStatus">Open for Registration</span>
                </div>
                <h1 id="eventTitle">Loading...</h1>
                <div class="event-meta">
                    <div class="event-meta-item">
                        <span>üìÖ</span>
                        <span id="eventDate">Loading...</span>
                    </div>
                    <div class="event-meta-item">
                        <span>üïê</span>
                        <span id="eventTime">Loading...</span>
                    </div>
                    <div class="event-meta-item">
                        <span>üìç</span>
                        <span id="eventVenue">Loading...</span>
                    </div>
                </div>
                <div class="register-section">
                    <a href="#" class="btn btn-success" id="registerBtn" onclick="registerForEvent()">
                        ‚úì Register Now
                    </a>
                    <a href="#" class="btn btn-outline" style="border-color: white; color: white;" id="liveBtn" onclick="goToLiveEvent()">
                        üî¥ Join Live Event
                    </a>
                    <div class="spots-left" id="spotsLeft">
                        üë• 50 spots left
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Left Column -->
        <div class="left-column">
            <!-- About Event -->
            <div class="content-card">
                <h2>üìã About This Event</h2>
                <p id="eventDescription">Loading...</p>
            </div>

            <!-- Schedule -->
            <div class="content-card">
                <h2>üóìÔ∏è Event Schedule</h2>
                <div id="eventSchedule">
                    <!-- Schedule will be loaded here -->
                </div>
            </div>

            <!-- Speakers -->
            <div class="content-card">
                <h2>üé§ Speakers & Guests</h2>
                <div class="speakers-grid" id="speakersGrid">
                    <!-- Speakers will be loaded here -->
                </div>
            </div>

            <!-- AI Generated Speech -->
            <div class="content-card" id="speechCard" style="display: none;">
                <h2>üéôÔ∏è Event Speech</h2>
                <p id="eventSpeech"></p>
            </div>
        </div>

        <!-- Right Column (Sidebar) -->
        <div class="right-column">
            <!-- Event Info -->
            <div class="sidebar-card">
                <h3>üìå Event Information</h3>
                <ul class="info-list">
                    <li>
                        <span class="label">Event Type</span>
                        <span class="value" id="infoType">Conference</span>
                    </li>
                    <li>
                        <span class="label">Date</span>
                        <span class="value" id="infoDate">Feb 15, 2024</span>
                    </li>
                    <li>
                        <span class="label">Time</span>
                        <span class="value" id="infoTime">09:00 AM</span>
                    </li>
                    <li>
                        <span class="label">Duration</span>
                        <span class="value" id="infoDuration">4 Hours</span>
                    </li>
                    <li>
                        <span class="label">Capacity</span>
                        <span class="value" id="infoCapacity">100 people</span>
                    </li>
                    <li>
                        <span class="label">Registered</span>
                        <span class="value" id="infoRegistered">45 people</span>
                    </li>
                    <li>
                        <span class="label">Entry Fee</span>
                        <span class="value" style="color: var(--success);">Free</span>
                    </li>
                </ul>
            </div>

            <!-- Organizer -->
            <div class="sidebar-card">
                <h3>üë§ Organizer</h3>
                <div class="organizer-card">
                    <div class="organizer-avatar">E</div>
                    <div class="organizer-info">
                        <h4>EventHub Team</h4>
                        <p>Official Organizer</p>
                    </div>
                </div>
            </div>

            <!-- Venue -->
            <div class="sidebar-card">
                <h3>üìç Venue</h3>
                <p id="venueAddress" style="color: #666; margin-bottom: 10px;">Main Auditorium, Building A</p>
                <div class="map-placeholder">üó∫Ô∏è</div>
            </div>

            <!-- Share -->
            <div class="sidebar-card">
                <h3>üîó Share Event</h3>
                <div class="share-buttons">
                    <div class="share-btn facebook" onclick="shareEvent('facebook')">f</div>
                    <div class="share-btn twitter" onclick="shareEvent('twitter')">ùïè</div>
                    <div class="share-btn linkedin" onclick="shareEvent('linkedin')">in</div>
                    <div class="share-btn whatsapp" onclick="shareEvent('whatsapp')">üì±</div>
                    <div class="share-btn copy" onclick="copyEventLink()">üìã</div>
                </div>
            </div>

            <!-- CTA -->
            <div class="sidebar-card cta-card">
                <h3>üéØ Don't Miss Out!</h3>
                <p>Limited spots available. Register now to secure your place.</p>
                <a href="#" class="btn" onclick="registerForEvent()">Register Now ‚Üí</a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <p>&copy; 2024 EventHub. All rights reserved.</p>
    </footer>

    <script>
        // Get Event ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const eventId = parseInt(urlParams.get('id'));

        // Get Events Data
        const events = JSON.parse(localStorage.getItem('events')) || [];
        const participants = JSON.parse(localStorage.getItem('participants')) || [];

        // Find Current Event
        let currentEvent = events.find(e => e.id === eventId);

        // Sample Event if not found
        if (!currentEvent) {
            currentEvent = {
                id: 1,
                title: "Tech Conference 2024",
                date: "2024-02-15",
                time: "09:00",
                venue: "Main Auditorium, Building A",
                description: "Join us for the annual technology conference featuring the latest innovations in AI, cloud computing, and software development. Network with industry leaders, attend insightful sessions, and discover the future of technology. This event brings together professionals, students, and enthusiasts from across the region for a day of learning and collaboration.",
                type: "conference",
                status: "approved",
                participants: 45,
                maxParticipants: 100,
                icon: "üíª",
                schedule: "",
                speech: ""
            };
        }

        // Load Event Details
        function loadEventDetails() {
            document.title = `${currentEvent.title} - EventHub`;
            
            // Hero Section
            document.getElementById('eventIcon').textContent = currentEvent.icon || 'üìÖ';
            document.getElementById('eventTitle').textContent = currentEvent.title;
            document.getElementById('eventType').textContent = capitalizeFirst(currentEvent.type);
            document.getElementById('eventDate').textContent = formatDate(currentEvent.date);
            document.getElementById('eventTime').textContent = formatTime(currentEvent.time);
            document.getElementById('eventVenue').textContent = currentEvent.venue;
            
            // Spots Left
            const spotsLeft = currentEvent.maxParticipants - (currentEvent.participants || 0);
            document.getElementById('spotsLeft').textContent = `üë• ${spotsLeft} spots left`;
            
            // Status
            const statusBadge = document.getElementById('eventStatus');
            if (spotsLeft <= 0) {
                statusBadge.textContent = 'Fully Booked';
                statusBadge.style.background = 'var(--danger)';
                document.getElementById('registerBtn').style.display = 'none';
            } else if (currentEvent.status === 'live') {
                statusBadge.textContent = 'üî¥ Live Now';
                statusBadge.classList.add('badge-live');
                document.getElementById('liveBtn').style.display = 'inline-flex';
            } else {
                document.getElementById('liveBtn').style.display = 'none';
            }

            // Description
            document.getElementById('eventDescription').textContent = currentEvent.description;

            // Sidebar Info
            document.getElementById('infoType').textContent = capitalizeFirst(currentEvent.type);
            document.getElementById('infoDate').textContent = formatDate(currentEvent.date);
            document.getElementById('infoTime').textContent = formatTime(currentEvent.time);
            document.getElementById('infoCapacity').textContent = `${currentEvent.maxParticipants} people`;
            document.getElementById('infoRegistered').textContent = `${currentEvent.participants || 0} people`;
            document.getElementById('venueAddress').textContent = currentEvent.venue;

            // Load Schedule
            loadSchedule();

            // Load Speakers
            loadSpeakers();

            // Load Speech if available
            if (currentEvent.speech) {
                document.getElementById('speechCard').style.display = 'block';
                document.getElementById('eventSpeech').innerHTML = currentEvent.speech;
            }

            // Check if already registered
            checkRegistration();
        }

        // Load Schedule
        function loadSchedule() {
            const scheduleContainer = document.getElementById('eventSchedule');
            
            // Generate default schedule based on event type
            const schedules = {
                conference: [
                    { time: "09:00", title: "Registration & Welcome Coffee", desc: "Check-in and networking" },
                    { time: "09:30", title: "Opening Ceremony", desc: "Welcome address by organizers" },
                    { time: "10:00", title: "Keynote Speech", desc: "Industry expert presentation" },
                    { time: "11:00", title: "Tea Break", desc: "Refreshments and networking" },
                    { time: "11:30", title: "Panel Discussion", desc: "Expert panel on industry trends" },
                    { time: "13:00", title: "Lunch Break", desc: "Networking lunch" },
                    { time: "14:00", title: "Technical Sessions", desc: "Parallel track sessions" },
                    { time: "16:00", title: "Closing Ceremony", desc: "Summary and vote of thanks" }
                ],
                workshop: [
                    { time: "09:00", title: "Introduction", desc: "Overview and setup" },
                    { time: "09:30", title: "Theory Session", desc: "Concepts and fundamentals" },
                    { time: "11:00", title: "Break", desc: "Short break" },
                    { time: "11:15", title: "Hands-on Practice", desc: "Practical exercises" },
                    { time: "13:00", title: "Lunch", desc: "Lunch break" },
                    { time: "14:00", title: "Project Work", desc: "Build your own project" },
                    { time: "16:00", title: "Q&A & Closing", desc: "Questions and certificates" }
                ],
                cultural: [
                    { time: "10:00", title: "Inauguration", desc: "Lamp lighting ceremony" },
                    { time: "10:30", title: "Dance Performances", desc: "Classical and folk dances" },
                    { time: "12:00", title: "Music Performances", desc: "Live music and singing" },
                    { time: "13:30", title: "Lunch Break", desc: "Food stalls and refreshments" },
                    { time: "15:00", title: "Drama & Skits", desc: "Theatrical performances" },
                    { time: "17:00", title: "Prize Distribution", desc: "Awards and recognition" },
                    { time: "18:00", title: "Closing", desc: "Vote of thanks" }
                ]
            };

            const schedule = schedules[currentEvent.type] || schedules.conference;

            scheduleContainer.innerHTML = schedule.map(item => `
                <div class="schedule-item">
                    <div class="schedule-time">${item.time}</div>
                    <div class="schedule-content">
                        <h4>${item.title}</h4>
                        <p>${item.desc}</p>
                    </div>
                </div>
            `).join('');
        }

        // Load Speakers
        function loadSpeakers() {
            const speakersContainer = document.getElementById('speakersGrid');
            
            const speakers = [
                { name: "Dr. John Smith", role: "Keynote Speaker", avatar: "J" },
                { name: "Prof. Sarah Johnson", role: "Panel Expert", avatar: "S" },
                { name: "Mr. Mike Wilson", role: "Industry Expert", avatar: "M" },
                { name: "Ms. Emily Brown", role: "Guest Speaker", avatar: "E" }
            ];

            speakersContainer.innerHTML = speakers.map(speaker => `
                <div class="speaker-card">
                    <div class="speaker-avatar">${speaker.avatar}</div>
                    <div class="speaker-info">
                        <h4>${speaker.name}</h4>
                        <p>${speaker.role}</p>
                    </div>
                </div>
            `).join('');
        }

        // Check Registration
        function checkRegistration() {
            const studentId = parseInt(sessionStorage.getItem('studentId'));
            if (studentId) {
                const isRegistered = participants.some(p => 
                    p.eventId === currentEvent.id && p.studentId === studentId
                );
                
                if (isRegistered) {
                    const registerBtn = document.getElementById('registerBtn');
                    registerBtn.textContent = '‚úì Already Registered';
                    registerBtn.style.background = '#666';
                    registerBtn.onclick = null;
                }
            }
        }

        // Register for Event
        function registerForEvent() {
            const isLoggedIn = sessionStorage.getItem('studentLoggedIn');
            
            if (!isLoggedIn) {
                if (confirm('You need to login to register. Go to login page?')) {
                    window.location.href = 'student-login.html';
                }
                return;
            }

            window.location.href = `participant-form.html?id=${currentEvent.id}`;
        }

        // Go to Live Event
        function goToLiveEvent() {
            window.location.href = `live-event.html?id=${currentEvent.id}`;
        }

        // Share Event
        function shareEvent(platform) {
            const url = window.location.href;
            const title = currentEvent.title;
            
            let shareUrl = '';
            
            switch(platform) {
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent(title)}`;
                    break;
                case 'linkedin':
                    shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`;
                    break;
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${encodeURIComponent(title + ' ' + url)}`;
                    break;
            }

            if (shareUrl) {
                window.open(shareUrl, '_blank', 'width=600,height=400');
            }
        }

        // Copy Event Link
        function copyEventLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert('Event link copied to clipboard!');
            });
        }

        // Format Date
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                weekday: 'long',
                month: 'long', 
                day: 'numeric', 
                year: 'numeric' 
            });
        }

        // Format Time
        function formatTime(timeStr) {
            const [hours, minutes] = timeStr.split(':');
            const hour = parseInt(hours);
            const ampm = hour >= 12 ? 'PM' : 'AM';
            const hour12 = hour % 12 || 12;
            return `${hour12}:${minutes} ${ampm}`;
        }

        // Capitalize First
        function capitalizeFirst(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        // Initialize
        loadEventDetails();
    </script>
</body>
</html>